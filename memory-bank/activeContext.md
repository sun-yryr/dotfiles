# 現在の作業コンテキスト: dotfiles

## 現在の焦点
現在、このdotfilesリポジトリは初期設定段階にあります。主な焦点は以下の通りです：

1. **基本構造の確立**: リポジトリの基本的なディレクトリ構造とファイル組織を設定
2. **コア設定ファイルの追加**: 最も重要な設定ファイル（シェル、エディタ、Gitなど）の追加
3. **インストールスクリプトの作成**: 設定ファイルを適切な場所にリンクするための自動化スクリプトの開発

## 最近の変更
- リポジトリの初期化とREADME.mdの作成
- メモリバンクの設定による開発コンテキストの確立
- シェル設定（zsh）の追加
- starshipプロンプトの設定
- インストールスクリプトの作成
- OS固有の設定の分離（Ubuntu、macOS）
- ディレクトリ構造の整理（terminal/starship）
- gitディレクトリの作成とghrの設定ファイルの追加

## 現在の決定事項と考慮点

### ディレクトリ構造
dotfilesの組織化には複数のアプローチがあります：

1. **フラットな構造**: すべての設定ファイルをリポジトリのルートに配置
   - 利点: シンプルで直感的
   - 欠点: 多数のファイルがある場合に管理が難しくなる

2. **カテゴリ別の構造**: 設定ファイルを機能やツール別にディレクトリに分類
   - 利点: 論理的に整理され、拡張性が高い
   - 欠点: インストールスクリプトがより複雑になる可能性がある

3. **ステージング方式**: 実際のdotfilesをリポジトリに保存し、ホームディレクトリにシンボリックリンクを作成
   - 利点: 変更が即座に反映される
   - 欠点: 初期セットアップが複雑になる可能性がある

現在の決定: **カテゴリ別の構造**を採用し、明確な分離と拡張性を確保します。

### シンボリックリンク vs コピー
設定ファイルをホームディレクトリに配置する方法には主に2つのアプローチがあります：

1. **シンボリックリンク**: リポジトリ内のファイルへのシンボリックリンクをホームディレクトリに作成
   - 利点: リポジトリの変更が即座に反映される
   - 欠点: 一部のアプリケーションがシンボリックリンクを適切に処理しない場合がある

2. **コピー**: リポジトリからホームディレクトリにファイルをコピー
   - 利点: すべてのアプリケーションと互換性がある
   - 欠点: 変更を反映するには手動で再コピーする必要がある

現在の決定: 基本的に**シンボリックリンク**を使用し、必要に応じて特定のファイルにコピー方式を適用します。

### プラットフォーム固有の設定
異なるOSやプラットフォーム（Linux、macOS、Windows）間で設定を管理する方法を検討中です：

1. **条件付きインクルード**: メインの設定ファイルからプラットフォーム固有の設定ファイルを条件付きでインクルード
2. **分岐スクリプト**: インストールスクリプトでプラットフォームを検出し、適切な設定を適用
3. **共通コア + プラットフォーム固有のオーバーライド**: すべてのプラットフォームで共通の設定をベースとし、プラットフォーム固有の設定でオーバーライド

現在の決定: **共通コア + プラットフォーム固有のオーバーライド**方式を採用し、最大限の共有と必要な特殊化を両立させます。

## 次のステップ

1. **基本ディレクトリ構造の作成**:
   - `shell/`: シェル関連の設定（.bashrc、.zshrcなど）
   - `editor/`: エディタ設定（.vimrc、VSCode設定など）
   - `git/`: Git関連の設定（.gitconfig、.gitignoreなど）
   - `terminal/`: ターミナル設定（.tmux.confなど）
   - `bin/`: ユーティリティスクリプト

2. **コア設定ファイルの追加**:
   - Bashおよび/またはZsh設定
   - Vim設定
   - Git設定
   - その他の頻繁に使用するツールの設定

3. **インストールスクリプトの開発**:
   - 既存の設定ファイルのバックアップ機能
   - シンボリックリンクの作成
   - プラットフォーム検出と条件付き設定

4. **ドキュメントの改善**:
   - 詳細なREADMEの作成
   - 各設定ファイルの目的と効果の文書化
   - インストールと更新の手順の明確化
